{
  "comments_id": "43668433",
  "rank": 4,
  "title": "Anubis Works",
  "link": "https://xeiaso.net/notes/2025/anubis-works/",
  "created_date": "2025-04-13T03:26:24.994496",
  "comments_summary": "Anubisは、AIスクレイピングを防ぐためのproof-of-workチャレンジを使用するツールです。\n\n## 課題の解決時間とユーザエクスペリエンス\n携帯電話でAnubisのボット検出に5秒かかるという報告や、30秒かかったという人もいる一方で、0.5秒で済んだという人もいます。FennecとPixel 9 Pro XLの組み合わせでは約8秒かかり、キャプチャよりは良いという意見もあります。Cloudflareの無限キャプチャループよりはマシという意見もありますが、ユーザーエージェントスプーファーのような疑わしい行為が原因である可能性も指摘されています。FirefoxでEnhanced Tracking Protectionを有効にすると、Cloudflareが作動することがあります。キャリアグレードNAT環境では、多数のユーザーが同じIPを共有しているため、Cloudflareが誤って疑わしい行動と判断することがあります。\n\n## ボット対策の必要性と課題\nAIスクレイピングによるウェブサイトへの負担が増加しており、帯域幅の消費やサーバーコストの増加が問題となっています。ボットによる大量のリクエストは、サイトへのDDoS攻撃とみなされる可能性があります。Anubisは、ボットによる過剰なアクセスを抑制するための対策として機能します。ただし、ボット対策は人間のユーザーにも影響を与える可能性があり、特に共有IPアドレスを使用している場合に問題となります。\n\n## Anubisの仕組みと効果\nAnubisは、クライアントが最新のブラウザを使用していることを確認するために、proof-of-workチャレンジを行います。これにより、AI企業がスクレイピングを行う際のコストを増加させることができます。GNOMEのGitlabでの導入事例では、トラフィックの約97%がAnubisによってブロックされました。ただし、長期的に見ると、スクレイパーが完全なブラウザを使用するようになる可能性もあります。\n\n## JavaScriptの必要性と代替手段\nAnubisはJavaScriptを必要としますが、no-JSソリューションも開発中です。時間経過をリミッターとして使用する方法も検討されていますが、これもJSが必要となる可能性があります。時間遅延は、多数の同時接続によって簡単に回避されるため、効果的な対策とは言えません。\n\n## その他の対策\nネットワークレベルで「悪質なボット」をブロックする方法も存在します。MaxMindのデータベースとカスタムWAFを使用して、ASN（自律システム番号）レベルでトラフィックをフィルタリングします。ただし、この方法は正当なユーザーを誤ってブロックするリスクがあります。\n\n## まとめ\nAnubisは、AIスクレイピングによるウェブサイトへの負担を軽減するための有効なツールですが、いくつかの課題も存在します。JavaScriptへの依存や、正当なユーザーへの影響などが挙げられます。今後は、より効果的でユーザーに優しい対策が求められます。"
}